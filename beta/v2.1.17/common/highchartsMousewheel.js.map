{"version":3,"sources":["../../../../src/common/highchartsMousewheel.es6"],"names":["mousewheel","containerIdWitHash","bind","e","preventDefault","chart","highcharts","xAxis","extremes","getExtremes","noOfCandles","originalEvent","wheelDelta","detail","timePeriodInMillis","convertToTimeperiodObject","data","timeInMillis","newMin","min","Math","abs","dataMin","setExtremes","max","dataMax"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;AAQO,OAAMA,kCAAa,SAAbA,UAAa,CAACC,kBAAD,EAAwB;AAC/C,4BAAEA,kBAAF,EAAsBC,IAAtB,CAA2B,2BAA3B,EAAwD,UAASC,CAAT,EAAY;AACjEA,WAAEC,cAAF;AACA,aAAMC,QAAQ,sBAAE,IAAF,EAAQC,UAAR,EAAd;AACA,aAAMC,QAAQF,MAAME,KAAN,CAAY,CAAZ,CAAd;AACA,aAAMC,WAAWD,MAAME,WAAN,EAAjB;AACA;AACA;AACA;AACA,aAAMC,cAAc,IAAIP,EAAEQ,aAAF,CAAgBC,UAApB,GAAgC,GAAhC,GAAsCT,EAAEQ,aAAF,CAAgBE,MAAtD,GAA+D,CAAnF;AACA,aAAMC,qBAAqBC,0BAA0B,sBAAE,IAAF,EAAQC,IAAR,CAAa,YAAb,CAA1B,EAAsDC,YAAtD,MAAwE,IAAnG;AACA;AACA;AACA,aAAGP,cAAc,CAAjB,EAAoB;AACjB,gBAAMQ,SAAUV,SAASW,GAAT,GAAeL,qBAAqBM,KAAKC,GAAL,CAASX,WAAT,CAApD;AACA,gBAAIQ,SAASV,SAASc,OAAtB,EAA+B;AAC5Bf,qBAAMgB,WAAN,CAAkBL,MAAlB,EAA0BV,SAASgB,GAAnC;AACF;AACH,UALD,MAMK;AACF,gBAAMN,UAAUV,SAASW,GAAT,GAAeL,qBAAqBM,KAAKC,GAAL,CAASX,WAAT,CAApD;AACA,gBAAIQ,UAASV,SAASiB,OAAtB,EAA+B;AAC5BlB,qBAAMgB,WAAN,CAAkBL,OAAlB,EAA0BV,SAASgB,GAAnC;AACF;AACH;AACH,OAxBD;AAyBF,IA1BM;;qBA4BQ;AACZxB;AADY,I","file":"highchartsMousewheel.js","sourcesContent":["/**\n * Created by arnab on 6/30/16.\n */\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport 'highstock';\nimport './util';\n\nexport const mousewheel = (containerIdWitHash) => {\n   $(containerIdWitHash).bind('DOMMouseScroll mousewheel', function(e) {\n      e.preventDefault();\n      const chart = $(this).highcharts();\n      const xAxis = chart.xAxis[0];\n      const extremes = xAxis.getExtremes();\n      //console.log(e.originalEvent.wheelDelta);\n      //Each turn is around 120. We will show one candle per 120\n      //e.originalEvent.detail is for firefox.\n      const noOfCandles = 4 * e.originalEvent.wheelDelta /120 | e.originalEvent.detail | 0;\n      const timePeriodInMillis = convertToTimeperiodObject($(this).data('timePeriod')).timeInMillis() || 1000;\n      //console.log(noOfCandles);\n      //If its positive, then move up\n      if(noOfCandles > 0) {\n         const newMin = (extremes.min - timePeriodInMillis * Math.abs(noOfCandles));\n         if (newMin > extremes.dataMin) {\n            xAxis.setExtremes(newMin, extremes.max);\n         }\n      }\n      else {\n         const newMin = (extremes.min + timePeriodInMillis * Math.abs(noOfCandles));\n         if (newMin < extremes.dataMax) {\n            xAxis.setExtremes(newMin, extremes.max);\n         }\n      }\n   });\n}\n\nexport default {\n   mousewheel\n};\n\n"]}