{"version":3,"sources":["../../../../src/themes/themes.es6"],"names":["win","themeName","local_storage","get","custom_theme","name","require","Highcharts","setOptions","plotOptions","candlestick","lineColor","color","upColor","upLineColor","lang","getOptions","Object","keys","forEach","key","value","index","i18n","off","on","$ele","elementText","text","elementClass","attr","confirmationDialog","themeObj","moveToTop","$html","createBlankWindow","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","find","growl","notice","message","themeName_file","replace","remove","set","location","reload","dialog"],"mappings":"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","file":"themes.js","sourcesContent":["/**\n * Created by arnab on 4/24/16.\n */\nimport $ from 'jquery';\nimport windows from '../windows/windows';\nimport '../common/util';\nimport 'highstock';\nimport 'jquery-growl';\n\nlet win = null;\n\n/*Set theme from local storage*/\nlet themeName = local_storage.get(\"theme\");\nconst custom_theme = local_storage.get(\"custom_theme\");\nthemeName = themeName && themeName.name;\nif (themeName) {\n   require(['lib/highstock/themes/' + themeName]);\n}\nelse if(custom_theme) {\n   Highcharts.setOptions(custom_theme);\n}\nelse { // Setting candle-stick color incase there's no theme set.\n   Highcharts.setOptions({\n      plotOptions: {\n         candlestick: {\n            lineColor: 'rgba(0,0,0,1)',\n            color: 'rgba(215,24,24,1)',\n            upColor: 'rgba(2,146,14,1)',\n            upLineColor: 'rgba(0,0,0,1)'\n         }\n      }\n   });\n}\n\n// Localizing Highcharts.\nconst lang = Highcharts.getOptions().lang;\nObject.keys(lang).forEach((key) => {\n   if(typeof lang[key] === 'object') {\n      lang[key].forEach(\n         (value, index) => { lang[key][index] = value.i18n(); }\n      );\n      return;\n   }\n   lang[key] = lang[key].i18n();\n});\n\n$('a.theme_dark_blue, a.theme_dark_green, a.theme_dark_unica, a.theme_gray, a.theme_grid, ' +\n   'a.theme_grid_light, a.theme_sand_signika, a.theme_skies, a.theme_default')\n   .off('click')\n   .on('click', function () {\n      const $ele = $(this);\n      const elementText = $ele.text();\n      const elementClass = $ele.attr('class');\n      confirmationDialog(null, elementClass, elementText);\n   });\n\nexport const confirmationDialog = (themeObj, elementClass, elementText) => {\n   if(win) {\n      win.moveToTop();\n      return;\n   }\n   require(['text!themes/themes.html'], ($html) => {\n      $html = $($html).i18n();\n\n      win = windows.createBlankWindow($html, {\n         dialogClass: 'dialog-confirm',\n         width: 360,\n         height: 175,\n         resizable: false,\n         collapsable: false,\n         minimizable: false,\n         maximizable: false,\n         closable: false,\n         closeOnEscape: false,\n         modal: true,\n         ignoreTileAction:true,\n         destroy: () => {\n            win = null;\n         },\n      });\n      $html.find(\"#apply\").on(\"click\", () => {\n         $.growl.notice({message: 'Loading ' + elementText});\n         const themeName_file = elementClass.replace('theme_', '').replace('_', '-');\n         if(themeObj){\n            local_storage.remove(\"theme\");\n            local_storage.set(\"custom_theme\", themeObj);\n         }\n         else if(themeName_file === 'default') {\n            local_storage.remove(\"theme\");\n            local_storage.remove(\"custom_theme\");\n         } else{\n            local_storage.set(\"theme\", {name: themeName_file}); \n         }\n         location.reload();\n      });\n      $html.find(\"#cancel\").on(\"click\", () => {\n         win.dialog( 'close' );\n         win.dialog( \"destroy\" );\n      });\n      win.dialog('open');\n   });\n}\n\nexport default  { confirmationDialog };\n\n"]}