{"version":3,"sources":["../../../../src/themes/themes.es6"],"names":["win","themeName","local_storage","get","custom_theme","name","require","Highcharts","setOptions","plotOptions","candlestick","lineColor","color","upColor","upLineColor","off","on","$ele","elementText","text","elementClass","attr","confirmationDialog","themeObj","moveToTop","$html","i18n","createBlankWindow","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","find","growl","notice","message","themeName_file","replace","remove","set","location","reload","dialog"],"mappings":";;;;;;;;;;;;;;;;;;AASA,OAAIA,MAAM,IAAV;;AAEA;AAXA;;;AAYA,OAAIC,YAAYC,cAAcC,GAAd,CAAkB,OAAlB,CAAhB;AACA,OAAMC,eAAeF,cAAcC,GAAd,CAAkB,cAAlB,CAArB;AACAF,eAAYA,aAAaA,UAAUI,IAAnC;AACA,OAAIJ,SAAJ,EAAe;AACZK,cAAQ,CAAC,kCAAkCL,SAAnC,CAAR;AACF,IAFD,MAGK,IAAGG,YAAH,EAAiB;AACnBG,iBAAWC,UAAX,CAAsBJ,YAAtB;AACF,IAFI,MAGA;AAAE;AACJG,iBAAWC,UAAX,CAAsB;AACnBC,sBAAa;AACVC,yBAAa;AACVC,0BAAW,eADD;AAEVC,sBAAO,mBAFG;AAGVC,wBAAS,kBAHC;AAIVC,4BAAa;AAJH;AADH;AADM,OAAtB;AAUF;;AAED,yBAAE,4FACC,0EADH,EAEIC,GAFJ,CAEQ,OAFR,EAGIC,EAHJ,CAGO,OAHP,EAGgB,YAAY;AACtB,UAAMC,OAAO,sBAAE,IAAF,CAAb;AACA,UAAMC,cAAcD,KAAKE,IAAL,EAApB;AACA,UAAMC,eAAeH,KAAKI,IAAL,CAAU,OAAV,CAArB;AACAC,yBAAmB,IAAnB,EAAyBF,YAAzB,EAAuCF,WAAvC;AACF,IARJ;;AAUO,OAAMI,kDAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWH,YAAX,EAAyBF,WAAzB,EAAyC;AACxE,UAAGlB,GAAH,EAAQ;AACLA,aAAIwB,SAAJ;AACA;AACF;AACDlB,cAAQ,CAAC,yBAAD,CAAR,EAAqC,UAACmB,KAAD,EAAW;AAC7CA,iBAAQ,sBAAEA,KAAF,EAASC,IAAT,EAAR;;AAEA1B,eAAM,kBAAQ2B,iBAAR,CAA0BF,KAA1B,EAAiC;AACpCG,yBAAa,gBADuB;AAEpCC,mBAAO,GAF6B;AAGpCC,oBAAQ,GAH4B;AAIpCC,uBAAW,KAJyB;AAKpCC,yBAAa,KALuB;AAMpCC,yBAAa,KANuB;AAOpCC,yBAAa,KAPuB;AAQpCC,sBAAU,KAR0B;AASpCC,2BAAe,KATqB;AAUpCC,mBAAO,IAV6B;AAWpCC,8BAAiB,IAXmB;AAYpCC,qBAAS,mBAAM;AACZvC,qBAAM,IAAN;AACF;AAdmC,UAAjC,CAAN;AAgBAyB,eAAMe,IAAN,CAAW,QAAX,EAAqBxB,EAArB,CAAwB,OAAxB,EAAiC,YAAM;AACpC,6BAAEyB,KAAF,CAAQC,MAAR,CAAe,EAACC,SAAS,aAAazB,WAAvB,EAAf;AACA,gBAAM0B,iBAAiBxB,aAAayB,OAAb,CAAqB,QAArB,EAA+B,EAA/B,EAAmCA,OAAnC,CAA2C,GAA3C,EAAgD,GAAhD,CAAvB;AACA,gBAAGtB,QAAH,EAAY;AACTrB,6BAAc4C,MAAd,CAAqB,OAArB;AACA5C,6BAAc6C,GAAd,CAAkB,cAAlB,EAAkCxB,QAAlC;AACF,aAHD,MAIK,IAAGqB,mBAAmB,SAAtB,EAAiC;AACnC1C,6BAAc4C,MAAd,CAAqB,OAArB;AACA5C,6BAAc4C,MAAd,CAAqB,cAArB;AACF,aAHI,MAGC;AACH5C,6BAAc6C,GAAd,CAAkB,OAAlB,EAA2B,EAAC1C,MAAMuC,cAAP,EAA3B;AACF;AACDI,qBAASC,MAAT;AACF,UAdD;AAeAxB,eAAMe,IAAN,CAAW,SAAX,EAAsBxB,EAAtB,CAAyB,OAAzB,EAAkC,YAAM;AACrChB,gBAAIkD,MAAJ,CAAY,OAAZ;AACAlD,gBAAIkD,MAAJ,CAAY,SAAZ;AACF,UAHD;AAIAlD,aAAIkD,MAAJ,CAAW,MAAX;AACF,OAvCD;AAwCF,IA7CM;;qBA+CS,EAAE5B,sCAAF,E","file":"themes.js","sourcesContent":["/**\n * Created by arnab on 4/24/16.\n */\nimport $ from 'jquery';\nimport windows from '../windows/windows';\nimport '../common/util';\nimport 'highstock-release/highstock';\nimport 'jquery-growl';\n\nlet win = null;\n\n/*Set theme from local storage*/\nlet themeName = local_storage.get(\"theme\");\nconst custom_theme = local_storage.get(\"custom_theme\");\nthemeName = themeName && themeName.name;\nif (themeName) {\n   require(['lib/highstock-release/themes/' + themeName]);\n}\nelse if(custom_theme) {\n   Highcharts.setOptions(custom_theme);\n}\nelse { // Setting candle-stick color incase there's no theme set.\n   Highcharts.setOptions({\n      plotOptions: {\n         candlestick: {\n            lineColor: 'rgba(0,0,0,1)',\n            color: 'rgba(215,24,24,1)',\n            upColor: 'rgba(2,146,14,1)',\n            upLineColor: 'rgba(0,0,0,1)'\n         }\n      }\n   });\n}\n\n$('a.theme_dark_blue, a.theme_dark_green, a.theme_dark_unica, a.theme_gray, a.theme_grid, ' +\n   'a.theme_grid_light, a.theme_sand_signika, a.theme_skies, a.theme_default')\n   .off('click')\n   .on('click', function () {\n      const $ele = $(this);\n      const elementText = $ele.text();\n      const elementClass = $ele.attr('class');\n      confirmationDialog(null, elementClass, elementText);\n   });\n\nexport const confirmationDialog = (themeObj, elementClass, elementText) => {\n   if(win) {\n      win.moveToTop();\n      return;\n   }\n   require(['text!themes/themes.html'], ($html) => {\n      $html = $($html).i18n();\n\n      win = windows.createBlankWindow($html, {\n         dialogClass: 'dialog-confirm',\n         width: 360,\n         height: 175,\n         resizable: false,\n         collapsable: false,\n         minimizable: false,\n         maximizable: false,\n         closable: false,\n         closeOnEscape: false,\n         modal: true,\n         ignoreTileAction:true,\n         destroy: () => {\n            win = null;\n         },\n      });\n      $html.find(\"#apply\").on(\"click\", () => {\n         $.growl.notice({message: 'Loading ' + elementText});\n         const themeName_file = elementClass.replace('theme_', '').replace('_', '-');\n         if(themeObj){\n            local_storage.remove(\"theme\");\n            local_storage.set(\"custom_theme\", themeObj);\n         }\n         else if(themeName_file === 'default') {\n            local_storage.remove(\"theme\");\n            local_storage.remove(\"custom_theme\");\n         } else{\n            local_storage.set(\"theme\", {name: themeName_file}); \n         }\n         location.reload();\n      });\n      $html.find(\"#cancel\").on(\"click\", () => {\n         win.dialog( 'close' );\n         win.dialog( \"destroy\" );\n      });\n      win.dialog('open');\n   });\n}\n\nexport default  { confirmationDialog };\n\n"]}