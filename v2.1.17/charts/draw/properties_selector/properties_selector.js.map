{"version":3,"sources":["../../../../../../src/charts/draw/properties_selector/properties_selector.es6"],"names":["win","open","options","callback","$html","table","find","inputValues","forEach","input","ele","inputElement","type","default","id","colorpicker","showOn","position","at","of","collision","part","map","size","bar","select","event","color","c","formatted","css","background","val","ok","name","min","max","attr","appendTo","i18n","createBlankWindow","title","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","buttons","Ok","error","each","index","value","parseInt","growl","message","dialog","Cancel"],"mappings":"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","file":"properties_selector.js","sourcesContent":["/**\n * Created by apoorv on 10/06/16\n */\n\nimport $ from \"jquery\";\nimport windows from \"windows/windows\";\nimport html from \"text!./properties_selector.html\";\n\nlet win = null;\n\nexport const open = (options, callback) => {\n   const $html = $(html);\n   const table = $html.find(\"table\");\n   options.inputValues.forEach(function(input) {\n      let ele, inputElement;\n      if (input.type === \"colorpicker\") {\n         inputElement = $(\"<input type='button' value='\" + input.default+\"' class='csspopup_input_width'\" +\n            \"id='\" + input.id + \"' style = 'width:100px;background:\" + input.default+\"; color:\" + input.default+\"' />\");\n         inputElement.colorpicker({\n            showOn: 'click',\n            position: {\n               at: \"right+100 bottom\",\n               of: \"element\",\n               collision: \"fit\"\n            },\n            part: {\n               map: { size: 128 },\n               bar: { size: 128 }\n            },\n            select: function(event, color) {\n               const c = \"#\" + color.formatted;\n               $(inputElement).css({\n                  background: c,\n                  color: c\n               }).val(c);\n            },\n            ok: function(event, color) {\n               const c = \"#\" + color.formatted;\n               $(inputElement).css({\n                  background: c,\n                  color: c\n               }).val(c);\n            }\n         });\n      } else {\n         inputElement = $(\"<input type='\" + input.type + \"' value='\" + input.default+\"' class='csspopup_input_width' style = 'width:100px;'\" +\n            \" id='\" + input.id + \"' name='\" + input.name + \"'/>\");\n      }\n      if (input.min && input.max) {\n         inputElement.attr(\"min\", input.min);\n         inputElement.attr(\"max\", input.max);\n      }\n      ele = $(\"<tr><td><strong>\" + input.name + \"</strong></td><td></td></tr>\");\n      inputElement.appendTo(ele.find('td')[1]);\n      $(ele).i18n().appendTo(table);\n   });\n   win = windows.createBlankWindow($html, {\n      title: options.title,\n      width: 240,\n      height: 200,\n      resizable: false,\n      collapsable: false,\n      minimizable: false,\n      maximizable: false,\n      closable: false,\n      closeOnEscape: false,\n      modal: true,\n      ignoreTileAction: true,\n      destroy: function() {\n         win = null;\n      },\n      buttons: {\n         Ok: function() {\n            let css = {},\n               error = false;\n            $html.find('input').each(function(index, ele) {\n               const id = $(ele).attr('id');\n               let value = $(ele).val();\n               if ($(ele).attr('type') === 'number') {\n                  const max = parseInt($(ele).attr('max')),\n                     min = parseInt($(ele).attr('min')),\n                     name = $(ele).attr('name');\n                  value = parseInt(value);\n                  if (value > max || value < min) {\n                     $.growl.error({\n                        message: 'Please enter a value for \"'.i18n() + name + '\" between '.i18n() +\n                           min + ' and '.i18n() + max + \".\"\n                     });\n                     error = true;\n                  }\n               }\n               css[id] = value;\n            });\n            if (!error) {\n               $(this).dialog('close');\n               $(this).dialog(\"destroy\");\n               callback(css);\n            }\n         },\n         Cancel: function() {\n            $(this).dialog('close');\n            $(this).dialog(\"destroy\");\n            return {};\n         }\n      }\n   });\n   win.dialog('open');\n}\n\nexport default {\n   open\n}\n"]}