define(["exports","jquery","../windows/windows","moment","text!./chrome.html","../common/util"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var g=f(b),h=f(c),i=f(d),j=f(e),k=null;setTimeout(function(){var a=function(){var a=local_storage.get("chrome"),b=!a;if(!b){var c=a.accepted_or_cancel_time;if(b=!c,!b){var d=i["default"].utc().valueOf()-c;b=d>=6048e5}}return b},b=a();if(b&&window.chrome&&chrome.webstore&&g["default"]("#webtrader-extension-is-installed").length<=0){if(k)return void k.moveToTop();var c=g["default"](j["default"]).i18n();k=h["default"].createBlankWindow(c,{dialogClass:"dialog-confirm",width:350,height:150,resizable:!1,collapsable:!1,minimizable:!1,maximizable:!1,modal:!0,ignoreTileAction:!0}),c.find("#apply").on("click",function(){k.dialog("close"),chrome.webstore.install(),local_storage.set("chrome",{accepted_or_cancel_time:i["default"].utc().valueOf()})}),c.find("#cancel").on("click",function(){k.dialog("close"),local_storage.set("chrome",{accepted_or_cancel_time:i["default"].utc().valueOf()})}),g["default"]("body").append(k.dialog("widget")),k.dialog("open")}},5e3),h["default"].event_on("tile",function(){k&&k.dialog("isOpen")&&(k.dialog("close"),k.moveToTop())}),a["default"]={}});